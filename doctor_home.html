<!-- page for displaying home Page
display account of the user here 
aur nav bars for him to navigate to other pages
nav bar: past prescriptions, doctor booking, on doctor page and allergy button to help him search for allergies and doctors related who can help -->
<!-- or do this
make 3 bars -> about me, past prescriptions, past doctors, past reviews 
where to put search for doctors ?? -->

<!DOCTYPE html>
<html>
    <head>
        <title>HomePage</title>
        <link rel="stylesheet" href="css/style5.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body>
        <div class="split left">
            <div class="userimg" >
                <img src="other/avatar.png" style="width: 45%; height:60% ;padding: 15px; background-size: cover; border-radius: 110px;">
            </div>
            <div class="navbar">
                <button class="btn" style="background-color: white;"onclick="window.location.href='doctor_home.html'">About Me</button>
                <button class="btn" onclick="window.location.href='doctor_prescription.html'">Past Prescriptions</button>
                <button class="btn" onclick="window.location.href='doctor_operation.html'">Past Operations</button>
                <button class="btn" onclick="window.location.href='doctor_test.html'">Past Medical Tests</button>
                <!-- <button class="btn" onclick="window.location.href='find_doctor.html'">Find a new doctor</button> -->
            </div>
        </div>
        <div class="split right">
            <div class="pagetitle">
                <p class="pagehead">Your profile</p>
                <i class="material-icons">notifications</i>
            </div>
            <div class="profilecard">
                <div class="cardhead">
                    <img src="other/avatar.png" style="width: 15%; height:20%; padding:25px ; padding-left: 60px;background-size:cover;border-radius: 150px;">
                    <div class="about">
                       <p id="name" ><b>Name: </b><br>Age: </p>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="cardabout">
                    <div class="leftabout">
                        <div><p id="Hospital">
                            <b>Hospital</b><br>DMC, Ludhiana
                        </p></div>
                        <div><p id="spez" style="margin-right: 20px;">
                            <b>Specialization</b><br>Cardiologist
                        </p></div>
                        <div><p id="gender">
                            <b >Gender: </b><br>Female
                        </p></div>
                    </div>
                    <div class="rightabout">
                        <div><p id="address">
                            <b >Address: </b><br>TIET, Patiala
                        </p></div>
                        <div><p id="consultation">
                            <b >Consultation Charges (in ₹)</b><br>2599
                        </p></div>
                        <div>
                            <button class="detailchange">Update details</button>
                        </div>
                        <h2 id="message" style="margin-top: 20px; color: red;"></h2>
                    </div>
                </div>
            </div>
        </div>
        <script>
       var myHeaders = new Headers();
        myHeaders.append("Authorization", `Token ${localStorage.getItem('token')}`);
        var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
        };

        fetch("http://localhost:8000/specificdoctorview/", requestOptions)
        .then(response => response.text())
        .then((result) => {
            let data = JSON.parse(result)
            document.getElementById("name").innerHTML = `<b>Name: ${data.name} </b><br>Age: ${data.age}`
            document.getElementById("Hospital").innerHTML = `   <b>Hospital: </b><br>${data.hospital.name}`
            document.getElementById("spez").innerHTML = ` <b>Specialization: </b><br>${data.specialization}`
            document.getElementById("gender").innerHTML  = `  <b >Gender: </b><br>${data.gender}`
            document.getElementById("address").innerHTML = `<b>Address: </b><br>${data.hospital.address}`
            document.getElementById("consultation").innerHTML = ` <b >Consultation Charges (in ₹): </b><br>${data.consultation_charges}`
        })
        .catch((error) => {
            document.getElementById("message").innerHTML = "Couldn't Fetch Details"
        });
        </script>
    </body>
</html>